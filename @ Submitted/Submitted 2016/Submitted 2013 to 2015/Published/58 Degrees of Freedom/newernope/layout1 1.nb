(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     66984,       1795]
NotebookOptionsPosition[     66418,       1771]
NotebookOutlinePosition[     66763,       1786]
CellTagsIndexPosition[     66720,       1783]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"Module", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "unit", ",", "labels", ",", "equipment", ",", "streams", ",", 
     "variables"}], "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"unit", "[", 
      RowBox[{"pos_", ",", "side_"}], "]"}], ":=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Rectangle", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "1.5"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "-", 
            RowBox[{"side", "*", "1.5"}]}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "1.5"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "+", 
            RowBox[{"side", "*", "1.5"}]}]}], "}"}]}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Rectangle", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "2"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "-", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"side", "*", "1.5"}], "+", "0.5"}], ")"}]}]}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "2"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "+", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"side", "*", "1.5"}], "+", "0.5"}], ")"}]}]}], "}"}]}], 
        "]"}]}], "}"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"labels", "[", 
      RowBox[{"number_", ",", "cmp_", ",", "pos_"}], "]"}], ":=", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{"#1", ",", 
         RowBox[{"{", 
          RowBox[{"#2", ",", "#3"}], "}"}]}], "}"}], "&"}], "@@", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"#", ",", "15"}], "]"}], "&"}], "/@", 
        RowBox[{"Flatten", "@", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Text", "[", 
            RowBox[{
             RowBox[{"Subscript", "[", 
              RowBox[{
               RowBox[{"OverDot", "@", 
                RowBox[{"Style", "[", 
                 RowBox[{"\"\<m\>\"", ",", "Italic"}], "]"}]}], ",", 
               "number"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"pos", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"pos", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], "+", "0.55"}]}], "}"}]}], 
            "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Text", "[", 
              RowBox[{
               RowBox[{"Subscript", "[", 
                RowBox[{
                 RowBox[{"Style", "[", 
                  RowBox[{"cmp", ",", "Italic"}], "]"}], ",", 
                 RowBox[{"Row", "@", 
                  RowBox[{"{", 
                   RowBox[{"number", ",", "\"\<,A\>\""}], "}"}]}]}], "]"}], 
               ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"pos", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"pos", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "-", "0.55"}]}], "}"}]}], 
              "]"}], ",", "\[IndentingNewLine]", 
             RowBox[{"Text", "[", 
              RowBox[{
               RowBox[{"Row", "@", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"Subscript", "[", 
                   RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"cmp", ",", "Italic"}], "]"}], ",", 
                    RowBox[{"Row", "@", 
                    RowBox[{"{", 
                    RowBox[{"number", ",", "\"\<,B\>\""}], "}"}]}]}], "]"}], 
                  ",", "\"\<=1-\>\"", ",", 
                  RowBox[{"Subscript", "[", 
                   RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"cmp", ",", "Italic"}], "]"}], ",", 
                    RowBox[{"Row", "@", 
                    RowBox[{"{", 
                    RowBox[{"number", ",", "\"\<,A\>\""}], "}"}]}]}], "]"}]}],
                  "}"}]}], ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"pos", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"pos", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "-", "1.55"}]}], "}"}]}], 
              "]"}]}], "}"}]}], "}"}]}]}], ")"}]}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"equipment", "=", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{"\"\<distillation column\>\"", ",", 
          RowBox[{"unit", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}], ",", "2.5"}], "]"}], ",", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"Column", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"\"\<distillation\>\"", ",", "\"\<column\>\""}], 
                 "}"}], ",", "Center"}], "]"}], ",", "16"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}]}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{"\"\<condenser\>\"", ",", 
          RowBox[{"unit", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"6", ",", "5.25"}], "}"}], ",", "1"}], "]"}], ",", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{"\"\<condenser\>\"", ",", "16"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"6", ",", "5.25"}], "}"}]}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{"\"\<reboiler\>\"", ",", 
          RowBox[{"unit", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"6", ",", 
              RowBox[{"-", "5.25"}]}], "}"}], ",", "1"}], "]"}], ",", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{"\"\<reboiler\>\"", ",", "16"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"6", ",", 
              RowBox[{"-", "5.25"}]}], "}"}]}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"\"\<overall\>\"", ",", 
         RowBox[{"Text", "@", "\"\<\>\""}], ",", 
         RowBox[{"Rectangle", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "3.75"}], ",", 
             RowBox[{"-", "7.45"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"10.25", ",", "7.5"}], "}"}]}], "]"}], ",", 
         RowBox[{"Text", "@", "\"\<\>\""}]}], "}"}]}], "}"}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"streams", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "4."}], ",", "0"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1.5"}], ",", "0"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "3.75"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"0", ",", "5.25"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"4.5", ",", "5.25"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", 
            RowBox[{"-", "3.75"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"0", ",", 
            RowBox[{"-", "5.25"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"4.5", ",", 
            RowBox[{"-", "5.25"}]}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"7.5", ",", "5.25"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"11", ",", "5.25"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"7.5", ",", 
            RowBox[{"-", "5.25"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"11", ",", 
            RowBox[{"-", "5.25"}]}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"6", ",", "3.75"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"6", ",", "2"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"1.5", ",", "2"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"6", ",", 
            RowBox[{"-", "3.75"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"6", ",", 
            RowBox[{"-", "2"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"1.5", ",", 
            RowBox[{"-", "2"}]}], "}"}]}], "}"}], "]"}]}], "}"}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"variables", "=", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{"#", ",", "17"}], "]"}], "&"}], "/@"}], "*)"}], 
     RowBox[{"{", 
      RowBox[{"(*", 
       RowBox[{"\"\<feed\>\"", ","}], "*)"}], 
      RowBox[{
       RowBox[{"labels", "[", 
        RowBox[{"1", ",", "\"\<z\>\"", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", "2.9"}], ",", "0"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<vapor\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"2", ",", "\"\<y\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"2.9", ",", "5.25"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<liquid\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"3", ",", "\"\<x\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"2.9", ",", 
           RowBox[{"-", "5.25"}]}], "}"}]}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"\"\<overhead\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"4", ",", "\"\<y\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"9.2", ",", "5.25"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<bottoms\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"5", ",", "\"\<x\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"9.2", ",", 
           RowBox[{"-", "5.25"}]}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<reflux\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"6", ",", "\"\<x\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"3.1", ",", "2"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<reboil\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"7", ",", "\"\<y\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"3.1", ",", 
           RowBox[{"-", "2"}]}], "}"}]}], "]"}]}], "}"}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"Graphics", "[", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"FaceForm", "@", "None"}], ",", 
          RowBox[{"EdgeForm", "@", "Thick"}], ",", 
          RowBox[{"equipment", "[", 
           RowBox[{"[", 
            RowBox[{"All", ",", "2"}], "]"}], "]"}], ",", 
          RowBox[{"EdgeForm", "@", 
           RowBox[{"{", 
            RowBox[{"Thick", ",", "Dashed", ",", "Blue"}], "}"}]}], ",", 
          RowBox[{"equipment", "[", 
           RowBox[{"[", 
            RowBox[{"All", ",", "3"}], "]"}], "]"}]}], "}"}], ",", 
        RowBox[{"equipment", "[", 
         RowBox[{"[", 
          RowBox[{"All", ",", "4"}], "]"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"Thick", ",", "streams"}], "}"}], ",", "variables"}], 
       "\[IndentingNewLine]", "}"}], ",", 
      RowBox[{"ImageSize", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"405", ",", "375"}], "}"}]}], ",", 
      RowBox[{"AspectRatio", "\[Rule]", "Full"}], ",", 
      RowBox[{"PlotRange", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "7.51"}], ",", "7.51"}], "}"}]}]}], "]"}]}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.667150599068162*^9, 3.6671506675788155`*^9}, {
  3.6671506996288967`*^9, 3.667150700205899*^9}, {3.6671507448740244`*^9, 
  3.6671508576083126`*^9}, {3.6671509087744465`*^9, 3.6671509296785145`*^9}}],

Cell[BoxData[
 GraphicsBox[{
   {EdgeForm[Thickness[Large]], FaceForm[
    None], {RectangleBox[{-1.5, -3.75}, {1.5, 3.75}], 
     RectangleBox[{4.5, 3.75}, {7.5, 6.75}], 
     RectangleBox[{4.5, -6.75}, {7.5, -3.75}], InsetBox["\<\"\"\>", {0, 0}]}, 
    {EdgeForm[{RGBColor[0, 0, 1], Thickness[Large], Dashing[{Small, Small}]}],
      RectangleBox[{-2, -4.25}, {2, 4.25}], 
     RectangleBox[{4, 3.25}, {8, 7.25}], RectangleBox[{4, -7.25}, {8, -3.25}],
      RectangleBox[{-3.75, -7.45}, {10.25, 7.5}]}}, {InsetBox[
     StyleBox[
      TagBox[GridBox[{
         {"\<\"distillation\"\>"},
         {"\<\"column\"\>"}
        },
        DefaultBaseStyle->"Column",
        GridBoxAlignment->{"Columns" -> {{Center}}},
        GridBoxItemSize->{
         "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
       "Column"],
      StripOnInput->False,
      FontSize->16], {0, 0}], InsetBox[
     StyleBox["\<\"condenser\"\>",
      StripOnInput->False,
      FontSize->16], {6, 5.25}], InsetBox[
     StyleBox["\<\"reboiler\"\>",
      StripOnInput->False,
      FontSize->16], {6, -5.25}], InsetBox["\<\"\"\>", {0, 0}]}, 
   {Thickness[Large], ArrowBox[{{-4., 0}, {-1.5, 0}}], 
    ArrowBox[{{0, 3.75}, {0, 5.25}, {4.5, 5.25}}], 
    ArrowBox[{{0, -3.75}, {0, -5.25}, {4.5, -5.25}}], 
    ArrowBox[{{7.5, 5.25}, {11, 5.25}}], 
    ArrowBox[{{7.5, -5.25}, {11, -5.25}}], 
    ArrowBox[{{6, 3.75}, {6, 2}, {1.5, 2}}], 
    ArrowBox[{{6, -3.75}, {6, -2}, {1.5, -2}}]}, {{
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "1"], {-2.9, 0.55}],
      StripOnInput->False,
      FontSize->15], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"z\"\>",
          StripOnInput->False,
          FontSlant->Italic], 
         TemplateBox[{"1","\",A\""},
          "RowDefault"]], {-2.9, -0.55}],
       StripOnInput->False,
       FontSize->15], 
      StyleBox[InsetBox[
        TemplateBox[{SubscriptBox[
           StyleBox["\"z\"", Italic, StripOnInput -> False], 
           TemplateBox[{"1", "\",B\""}, "RowDefault"]],"\"=1-\"",SubscriptBox[
           StyleBox["\"z\"", Italic, StripOnInput -> False], 
           TemplateBox[{"1", "\",A\""}, "RowDefault"]]},
         "RowDefault"], {-2.9, -1.55}],
       StripOnInput->False,
       FontSize->15]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "2"], {2.9, 5.8}],
      StripOnInput->False,
      FontSize->15], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"y\"\>",
          StripOnInput->False,
          FontSlant->Italic], 
         TemplateBox[{"2","\",A\""},
          "RowDefault"]], {2.9, 4.7}],
       StripOnInput->False,
       FontSize->15], 
      StyleBox[InsetBox[
        TemplateBox[{SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], 
           TemplateBox[{"2", "\",B\""}, "RowDefault"]],"\"=1-\"",SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], 
           TemplateBox[{"2", "\",A\""}, "RowDefault"]]},
         "RowDefault"], {2.9, 3.7}],
       StripOnInput->False,
       FontSize->15]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "3"], {2.9, -4.7}],
      StripOnInput->False,
      FontSize->15], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"x\"\>",
          StripOnInput->False,
          FontSlant->Italic], 
         TemplateBox[{"3","\",A\""},
          "RowDefault"]], {2.9, -5.8}],
       StripOnInput->False,
       FontSize->15], 
      StyleBox[InsetBox[
        TemplateBox[{SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], 
           TemplateBox[{"3", "\",B\""}, "RowDefault"]],"\"=1-\"",SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], 
           TemplateBox[{"3", "\",A\""}, "RowDefault"]]},
         "RowDefault"], {2.9, -6.8}],
       StripOnInput->False,
       FontSize->15]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "4"], {9.2, 5.8}],
      StripOnInput->False,
      FontSize->15], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"y\"\>",
          StripOnInput->False,
          FontSlant->Italic], 
         TemplateBox[{"4","\",A\""},
          "RowDefault"]], {9.2, 4.7}],
       StripOnInput->False,
       FontSize->15], 
      StyleBox[InsetBox[
        TemplateBox[{SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], 
           TemplateBox[{"4", "\",B\""}, "RowDefault"]],"\"=1-\"",SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], 
           TemplateBox[{"4", "\",A\""}, "RowDefault"]]},
         "RowDefault"], {9.2, 3.7}],
       StripOnInput->False,
       FontSize->15]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "5"], {9.2, -4.7}],
      StripOnInput->False,
      FontSize->15], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"x\"\>",
          StripOnInput->False,
          FontSlant->Italic], 
         TemplateBox[{"5","\",A\""},
          "RowDefault"]], {9.2, -5.8}],
       StripOnInput->False,
       FontSize->15], 
      StyleBox[InsetBox[
        TemplateBox[{SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], 
           TemplateBox[{"5", "\",B\""}, "RowDefault"]],"\"=1-\"",SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], 
           TemplateBox[{"5", "\",A\""}, "RowDefault"]]},
         "RowDefault"], {9.2, -6.8}],
       StripOnInput->False,
       FontSize->15]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "6"], {3.1, 2.55}],
      StripOnInput->False,
      FontSize->15], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"x\"\>",
          StripOnInput->False,
          FontSlant->Italic], 
         TemplateBox[{"6","\",A\""},
          "RowDefault"]], {3.1, 1.45}],
       StripOnInput->False,
       FontSize->15], 
      StyleBox[InsetBox[
        TemplateBox[{SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], 
           TemplateBox[{"6", "\",B\""}, "RowDefault"]],"\"=1-\"",SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], 
           TemplateBox[{"6", "\",A\""}, "RowDefault"]]},
         "RowDefault"], {3.1, 0.44999999999999996`}],
       StripOnInput->False,
       FontSize->15]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "7"], {3.1, -1.45}],
      StripOnInput->False,
      FontSize->15], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"y\"\>",
          StripOnInput->False,
          FontSlant->Italic], 
         TemplateBox[{"7","\",A\""},
          "RowDefault"]], {3.1, -2.55}],
       StripOnInput->False,
       FontSize->15], 
      StyleBox[InsetBox[
        TemplateBox[{SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], 
           TemplateBox[{"7", "\",B\""}, "RowDefault"]],"\"=1-\"",SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], 
           TemplateBox[{"7", "\",A\""}, "RowDefault"]]},
         "RowDefault"], {3.1, -3.55}],
       StripOnInput->False,
       FontSize->15]}}}},
  AspectRatio->Full,
  ImageSize->{405, 375},
  PlotRange->{-7.51, 7.51}]], "Output",
 CellChangeTimes->{
  3.667150663365804*^9, 3.6671507011559024`*^9, 3.667150756190057*^9, {
   3.667150795079157*^9, 3.6671508585643153`*^9}, 3.667150930925518*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Module", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "unit", ",", "labels", ",", "equipment", ",", "streams", ",", 
     "variables"}], "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"unit", "[", 
      RowBox[{"pos_", ",", "side_"}], "]"}], ":=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Rectangle", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "1.5"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "-", 
            RowBox[{"side", "*", "1.5"}]}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "1.5"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "+", 
            RowBox[{"side", "*", "1.5"}]}]}], "}"}]}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Rectangle", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "2"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "-", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"side", "*", "1.5"}], "+", "0.5"}], ")"}]}]}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "2"}], ",", 
           RowBox[{
            RowBox[{"pos", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "+", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"side", "*", "1.5"}], "+", "0.5"}], ")"}]}]}], "}"}]}], 
        "]"}]}], "}"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"labels", "[", 
      RowBox[{"number_", ",", "cmp_", ",", "pos_"}], "]"}], ":=", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{"#1", ",", 
         RowBox[{"{", 
          RowBox[{"#2", ",", "#3"}], "}"}]}], "}"}], "&"}], "@@", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"#", ",", "17"}], "]"}], "&"}], "/@", 
        RowBox[{"Flatten", "@", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Text", "[", 
            RowBox[{
             RowBox[{"Subscript", "[", 
              RowBox[{
               RowBox[{"OverDot", "@", 
                RowBox[{"Style", "[", 
                 RowBox[{"\"\<m\>\"", ",", "Italic"}], "]"}]}], ",", 
               "number"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"pos", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"pos", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], "+", "0.55"}]}], "}"}]}], 
            "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Text", "[", 
              RowBox[{
               RowBox[{"Subscript", "[", 
                RowBox[{
                 RowBox[{"Style", "[", 
                  RowBox[{"cmp", ",", "Italic"}], "]"}], ",", "number"}], 
                "]"}], ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"pos", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"pos", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "-", "0.55"}]}], "}"}]}], 
              "]"}], ",", "\[IndentingNewLine]", 
             RowBox[{"Text", "[", 
              RowBox[{
               RowBox[{"Row", "@", 
                RowBox[{"{", 
                 RowBox[{"\"\<1-\>\"", ",", 
                  RowBox[{"Subscript", "[", 
                   RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"cmp", ",", "Italic"}], "]"}], ",", "number"}], 
                   "]"}]}], "}"}]}], ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"pos", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"pos", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "-", "1.55"}]}], "}"}]}], 
              "]"}]}], "}"}]}], "}"}]}]}], ")"}]}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"equipment", "=", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{"\"\<distillation column\>\"", ",", 
          RowBox[{"unit", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}], ",", "2.5"}], "]"}], ",", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"Column", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"\"\<distillation\>\"", ",", "\"\<column\>\""}], 
                 "}"}], ",", "Center"}], "]"}], ",", "16"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}]}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{"\"\<condenser\>\"", ",", 
          RowBox[{"unit", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"6", ",", "5.25"}], "}"}], ",", "1"}], "]"}], ",", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{"\"\<condenser\>\"", ",", "16"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"6", ",", "5.25"}], "}"}]}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{"\"\<reboiler\>\"", ",", 
          RowBox[{"unit", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"6", ",", 
              RowBox[{"-", "5.25"}]}], "}"}], ",", "1"}], "]"}], ",", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{"\"\<reboiler\>\"", ",", "16"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"6", ",", 
              RowBox[{"-", "5.25"}]}], "}"}]}], "]"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"\"\<overall\>\"", ",", 
         RowBox[{"Text", "@", "\"\<\>\""}], ",", 
         RowBox[{"Rectangle", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "3.75"}], ",", 
             RowBox[{"-", "7.45"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"10.25", ",", "7.5"}], "}"}]}], "]"}], ",", 
         RowBox[{"Text", "@", "\"\<\>\""}]}], "}"}]}], "}"}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"streams", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "4."}], ",", "0"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1.5"}], ",", "0"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "3.75"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"0", ",", "5.25"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"4.5", ",", "5.25"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", 
            RowBox[{"-", "3.75"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"0", ",", 
            RowBox[{"-", "5.25"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"4.5", ",", 
            RowBox[{"-", "5.25"}]}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"7.5", ",", "5.25"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"11", ",", "5.25"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"7.5", ",", 
            RowBox[{"-", "5.25"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"11", ",", 
            RowBox[{"-", "5.25"}]}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"6", ",", "3.75"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"6", ",", "2"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"1.5", ",", "2"}], "}"}]}], "}"}], "]"}], ",", 
       RowBox[{"Arrow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"6", ",", 
            RowBox[{"-", "3.75"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"6", ",", 
            RowBox[{"-", "2"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"1.5", ",", 
            RowBox[{"-", "2"}]}], "}"}]}], "}"}], "]"}]}], "}"}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"variables", "=", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{"#", ",", "17"}], "]"}], "&"}], "/@"}], "*)"}], 
     RowBox[{"{", 
      RowBox[{"(*", 
       RowBox[{"\"\<feed\>\"", ","}], "*)"}], 
      RowBox[{
       RowBox[{"labels", "[", 
        RowBox[{"1", ",", "\"\<z\>\"", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", "2.9"}], ",", "0"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<vapor\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"2", ",", "\"\<y\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"2.9", ",", "5.25"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<liquid\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"3", ",", "\"\<x\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"2.9", ",", 
           RowBox[{"-", "5.25"}]}], "}"}]}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"\"\<overhead\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"4", ",", "\"\<y\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"9.2", ",", "5.25"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<bottoms\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"5", ",", "\"\<x\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"9.2", ",", 
           RowBox[{"-", "5.25"}]}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<reflux\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"6", ",", "\"\<x\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"3.1", ",", "2"}], "}"}]}], "]"}], ",", 
       RowBox[{"(*", 
        RowBox[{"\"\<reboil\>\"", ","}], "*)"}], 
       RowBox[{"labels", "[", 
        RowBox[{"7", ",", "\"\<y\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"3.1", ",", 
           RowBox[{"-", "2"}]}], "}"}]}], "]"}]}], "}"}]}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"Graphics", "[", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"FaceForm", "@", "None"}], ",", 
          RowBox[{"EdgeForm", "@", "Thick"}], ",", 
          RowBox[{"equipment", "[", 
           RowBox[{"[", 
            RowBox[{"All", ",", "2"}], "]"}], "]"}], ",", 
          RowBox[{"EdgeForm", "@", 
           RowBox[{"{", 
            RowBox[{"Thick", ",", "Dashed", ",", "Blue"}], "}"}]}], ",", 
          RowBox[{"equipment", "[", 
           RowBox[{"[", 
            RowBox[{"All", ",", "3"}], "]"}], "]"}]}], "}"}], ",", 
        RowBox[{"equipment", "[", 
         RowBox[{"[", 
          RowBox[{"All", ",", "4"}], "]"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"Thick", ",", "streams"}], "}"}], ",", "variables"}], 
       "\[IndentingNewLine]", "}"}], ",", 
      RowBox[{"ImageSize", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"405", ",", "375"}], "}"}]}], ",", 
      RowBox[{"AspectRatio", "\[Rule]", "Full"}], ",", 
      RowBox[{"PlotRange", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "7.51"}], ",", "7.51"}], "}"}]}]}], "]"}]}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.6671510358904657`*^9, 3.6671510913806095`*^9}}],

Cell[BoxData[
 GraphicsBox[{
   {EdgeForm[Thickness[Large]], FaceForm[
    None], {RectangleBox[{-1.5, -3.75}, {1.5, 3.75}], 
     RectangleBox[{4.5, 3.75}, {7.5, 6.75}], 
     RectangleBox[{4.5, -6.75}, {7.5, -3.75}], InsetBox["\<\"\"\>", {0, 0}]}, 
    {EdgeForm[{RGBColor[0, 0, 1], Thickness[Large], Dashing[{Small, Small}]}],
      RectangleBox[{-2, -4.25}, {2, 4.25}], 
     RectangleBox[{4, 3.25}, {8, 7.25}], RectangleBox[{4, -7.25}, {8, -3.25}],
      RectangleBox[{-3.75, -7.45}, {10.25, 7.5}]}}, {InsetBox[
     StyleBox[
      TagBox[GridBox[{
         {"\<\"distillation\"\>"},
         {"\<\"column\"\>"}
        },
        DefaultBaseStyle->"Column",
        GridBoxAlignment->{"Columns" -> {{Center}}},
        GridBoxItemSize->{
         "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
       "Column"],
      StripOnInput->False,
      FontSize->16], {0, 0}], InsetBox[
     StyleBox["\<\"condenser\"\>",
      StripOnInput->False,
      FontSize->16], {6, 5.25}], InsetBox[
     StyleBox["\<\"reboiler\"\>",
      StripOnInput->False,
      FontSize->16], {6, -5.25}], InsetBox["\<\"\"\>", {0, 0}]}, 
   {Thickness[Large], ArrowBox[{{-4., 0}, {-1.5, 0}}], 
    ArrowBox[{{0, 3.75}, {0, 5.25}, {4.5, 5.25}}], 
    ArrowBox[{{0, -3.75}, {0, -5.25}, {4.5, -5.25}}], 
    ArrowBox[{{7.5, 5.25}, {11, 5.25}}], 
    ArrowBox[{{7.5, -5.25}, {11, -5.25}}], 
    ArrowBox[{{6, 3.75}, {6, 2}, {1.5, 2}}], 
    ArrowBox[{{6, -3.75}, {6, -2}, {1.5, -2}}]}, {{
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "1"], {-2.9, 0.55}],
      StripOnInput->False,
      FontSize->17], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"z\"\>",
          StripOnInput->False,
          FontSlant->Italic], "1"], {-2.9, -0.55}],
       StripOnInput->False,
       FontSize->17], 
      StyleBox[InsetBox[
        TemplateBox[{"\"1-\"",SubscriptBox[
           StyleBox["\"z\"", Italic, StripOnInput -> False], "1"]},
         "RowDefault"], {-2.9, -1.55}],
       StripOnInput->False,
       FontSize->17]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "2"], {2.9, 5.8}],
      StripOnInput->False,
      FontSize->17], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"y\"\>",
          StripOnInput->False,
          FontSlant->Italic], "2"], {2.9, 4.7}],
       StripOnInput->False,
       FontSize->17], 
      StyleBox[InsetBox[
        TemplateBox[{"\"1-\"",SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], "2"]},
         "RowDefault"], {2.9, 3.7}],
       StripOnInput->False,
       FontSize->17]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "3"], {2.9, -4.7}],
      StripOnInput->False,
      FontSize->17], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"x\"\>",
          StripOnInput->False,
          FontSlant->Italic], "3"], {2.9, -5.8}],
       StripOnInput->False,
       FontSize->17], 
      StyleBox[InsetBox[
        TemplateBox[{"\"1-\"",SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], "3"]},
         "RowDefault"], {2.9, -6.8}],
       StripOnInput->False,
       FontSize->17]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "4"], {9.2, 5.8}],
      StripOnInput->False,
      FontSize->17], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"y\"\>",
          StripOnInput->False,
          FontSlant->Italic], "4"], {9.2, 4.7}],
       StripOnInput->False,
       FontSize->17], 
      StyleBox[InsetBox[
        TemplateBox[{"\"1-\"",SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], "4"]},
         "RowDefault"], {9.2, 3.7}],
       StripOnInput->False,
       FontSize->17]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "5"], {9.2, -4.7}],
      StripOnInput->False,
      FontSize->17], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"x\"\>",
          StripOnInput->False,
          FontSlant->Italic], "5"], {9.2, -5.8}],
       StripOnInput->False,
       FontSize->17], 
      StyleBox[InsetBox[
        TemplateBox[{"\"1-\"",SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], "5"]},
         "RowDefault"], {9.2, -6.8}],
       StripOnInput->False,
       FontSize->17]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "6"], {3.1, 2.55}],
      StripOnInput->False,
      FontSize->17], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"x\"\>",
          StripOnInput->False,
          FontSlant->Italic], "6"], {3.1, 1.45}],
       StripOnInput->False,
       FontSize->17], 
      StyleBox[InsetBox[
        TemplateBox[{"\"1-\"",SubscriptBox[
           StyleBox["\"x\"", Italic, StripOnInput -> False], "6"]},
         "RowDefault"], {3.1, 0.44999999999999996`}],
       StripOnInput->False,
       FontSize->17]}}, {
     StyleBox[InsetBox[
       SubscriptBox[
        OverscriptBox[
         StyleBox["\<\"m\"\>",
          StripOnInput->False,
          FontSlant->Italic], "."], "7"], {3.1, -1.45}],
      StripOnInput->False,
      FontSize->17], {
      StyleBox[InsetBox[
        SubscriptBox[
         StyleBox["\<\"y\"\>",
          StripOnInput->False,
          FontSlant->Italic], "7"], {3.1, -2.55}],
       StripOnInput->False,
       FontSize->17], 
      StyleBox[InsetBox[
        TemplateBox[{"\"1-\"",SubscriptBox[
           StyleBox["\"y\"", Italic, StripOnInput -> False], "7"]},
         "RowDefault"], {3.1, -3.55}],
       StripOnInput->False,
       FontSize->17]}}}},
  AspectRatio->Full,
  ImageSize->{405, 375},
  PlotRange->{-7.51, 7.51}]], "Output",
 CellChangeTimes->{{3.6671510184534197`*^9, 3.6671510525075216`*^9}, 
   3.6671510931976175`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "unit", ",", "labels", ",", "equipment", ",", "streams", ",", 
       "variables"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"unit", "[", 
        RowBox[{"pos_", ",", "side_"}], "]"}], ":=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Rectangle", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "-", "1.5"}], ",", 
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "-", 
              RowBox[{"side", "*", "1.5"}]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "+", "1.5"}], ",", 
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "+", 
              RowBox[{"side", "*", "1.5"}]}]}], "}"}]}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Rectangle", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "-", "1.9"}], ",", 
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "-", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"side", "*", "1.5"}], "+", "0.4"}], ")"}]}]}], "}"}], 
           ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "+", "1.9"}], ",", 
             RowBox[{
              RowBox[{"pos", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "+", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"side", "*", "1.5"}], "+", "0.4"}], ")"}]}]}], 
            "}"}]}], "]"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"labels", "[", 
        RowBox[{"number_", ",", "cmp_", ",", "pos_"}], "]"}], ":=", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{"#1", ",", 
           RowBox[{"{", 
            RowBox[{"#2", ",", "#3"}], "}"}]}], "}"}], "&"}], "@@", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"Style", "[", 
            RowBox[{"#", ",", "16"}], "]"}], "&"}], "/@", 
          RowBox[{"Flatten", "@", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"Text", "[", 
              RowBox[{
               RowBox[{"Subscript", "[", 
                RowBox[{
                 RowBox[{"OverDot", "@", 
                  RowBox[{"Style", "[", 
                   RowBox[{"\"\<m\>\"", ",", "Italic"}], "]"}]}], ",", 
                 "number"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"pos", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"pos", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "+", "0.55"}]}], "}"}]}], 
              "]"}], ",", "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Text", "[", 
                RowBox[{
                 RowBox[{"Subscript", "[", 
                  RowBox[{
                   RowBox[{"Style", "[", 
                    RowBox[{"cmp", ",", "Italic"}], "]"}], ",", 
                   RowBox[{"Row", "@", 
                    RowBox[{"{", 
                    RowBox[{"number", ",", "\"\<,A\>\""}], "}"}]}]}], "]"}], 
                 ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"pos", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                   RowBox[{
                    RowBox[{"pos", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "-", "0.55"}]}], "}"}]}], 
                "]"}], ",", "\[IndentingNewLine]", 
               RowBox[{"Text", "[", 
                RowBox[{
                 RowBox[{"Row", "@", 
                  RowBox[{"{", 
                   RowBox[{"\"\<1-\>\"", ",", 
                    RowBox[{"Subscript", "[", 
                    RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"cmp", ",", "Italic"}], "]"}], ",", 
                    RowBox[{"Row", "@", 
                    RowBox[{"{", 
                    RowBox[{"number", ",", "\"\<,A\>\""}], "}"}]}]}], "]"}]}],
                    "}"}]}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"pos", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                   RowBox[{
                    RowBox[{"pos", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "-", "1.55"}]}], "}"}]}], 
                "]"}]}], "}"}]}], "}"}]}]}], ")"}]}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"equipment", "=", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"Flatten", "@", 
          RowBox[{"{", 
           RowBox[{"\"\<distillation column\>\"", ",", 
            RowBox[{"unit", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0"}], "}"}], ",", "2.5"}], "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{
                RowBox[{"Column", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"\"\<distillation\>\"", ",", "\"\<column\>\""}], 
                   "}"}], ",", "Center"}], "]"}], ",", "16"}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0"}], "}"}]}], "]"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", 
           RowBox[{"\"\<condenser\>\"", ",", 
            RowBox[{"unit", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"6", ",", "5.25"}], "}"}], ",", "1"}], "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{"\"\<condenser\>\"", ",", "16"}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"6", ",", "5.25"}], "}"}]}], "]"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", 
           RowBox[{"\"\<reboiler\>\"", ",", 
            RowBox[{"unit", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"6", ",", 
                RowBox[{"-", "5.25"}]}], "}"}], ",", "1"}], "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{"\"\<reboiler\>\"", ",", "16"}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"6", ",", 
                RowBox[{"-", "5.25"}]}], "}"}]}], "]"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"\"\<overall\>\"", ",", 
           RowBox[{"Text", "@", "\"\<\>\""}], ",", 
           RowBox[{"Rectangle", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "3.9"}], ",", 
               RowBox[{"-", "7.45"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"10.25", ",", "7.5"}], "}"}]}], "]"}], ",", 
           RowBox[{"Text", "@", "\"\<\>\""}]}], "}"}]}], "}"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"streams", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Arrow", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "4.2"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "1.5"}], ",", "0"}], "}"}]}], "}"}], "]"}], ",", 
         RowBox[{"Arrow", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "3.75"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "5.25"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"4.5", ",", "5.25"}], "}"}]}], "}"}], "]"}], ",", 
         RowBox[{"Arrow", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", "3.75"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", 
              RowBox[{"-", "5.25"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"4.5", ",", 
              RowBox[{"-", "5.25"}]}], "}"}]}], "}"}], "]"}], ",", 
         RowBox[{"Arrow", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"7.5", ",", "5.25"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"11", ",", "5.25"}], "}"}]}], "}"}], "]"}], ",", 
         RowBox[{"Arrow", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"7.5", ",", 
              RowBox[{"-", "5.25"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"11", ",", 
              RowBox[{"-", "5.25"}]}], "}"}]}], "}"}], "]"}], ",", 
         RowBox[{"Arrow", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"6", ",", "3.75"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"6", ",", "2"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"1.5", ",", "2"}], "}"}]}], "}"}], "]"}], ",", 
         RowBox[{"Arrow", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"6", ",", 
              RowBox[{"-", "3.75"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"6", ",", 
              RowBox[{"-", "2"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"1.5", ",", 
              RowBox[{"-", "2"}]}], "}"}]}], "}"}], "]"}]}], "}"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"variables", "=", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"npr", "\[Equal]", "1"}], ",", "\[IndentingNewLine]", 
           RowBox[{"ReplacePart", "[", 
            RowBox[{
             RowBox[{"labels", "[", 
              RowBox[{"1", ",", "\"\<z\>\"", ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"-", "2.9"}], ",", "0"}], "}"}]}], "]"}], ",", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"2", ",", "2"}], "}"}], "\[Rule]", 
              RowBox[{"Text", "[", 
               RowBox[{
                RowBox[{"Style", "[", 
                 RowBox[{
                  RowBox[{"Row", "@", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Subscript", "[", 
                    RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"\"\<z\>\"", ",", "Italic"}], "]"}], ",", 
                    "\"\<1,B\>\""}], "]"}], ",", "\"\<=1-\>\"", ",", 
                    RowBox[{"Subscript", "[", 
                    RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"\"\<z\>\"", ",", "Italic"}], "]"}], ",", 
                    "\"\<1,A\>\""}], "]"}]}], "}"}]}], ",", "16", ",", 
                  RowBox[{"Background", "\[Rule]", "White"}]}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.1"}], ",", 
                  RowBox[{"-", "1.55"}]}], "}"}]}], "]"}]}]}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"ReplacePart", "[", 
            RowBox[{
             RowBox[{"labels", "[", 
              RowBox[{"1", ",", "\"\<z\>\"", ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"-", "2.9"}], ",", "0"}], "}"}]}], "]"}], ",", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"2", ",", "2"}], "}"}], "\[Rule]", 
              RowBox[{"Text", "[", 
               RowBox[{
                RowBox[{"Style", "[", 
                 RowBox[{
                  RowBox[{"Column", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Row", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Subscript", "[", 
                    RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"\"\<z\>\"", ",", "Italic"}], "]"}], ",", 
                    "\"\<1,B\>\""}], "]"}], ",", "\"\<=\>\""}], "}"}]}], ",", 
                    RowBox[{"Row", "@", 
                    RowBox[{"{", 
                    RowBox[{"\"\<1-\>\"", ",", 
                    RowBox[{"Subscript", "[", 
                    RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"\"\<z\>\"", ",", "Italic"}], "]"}], ",", 
                    "\"\<1,A\>\""}], "]"}]}], "}"}]}]}], "}"}], ",", 
                    "Center"}], "]"}], ",", "16"}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.9"}], ",", 
                  RowBox[{"-", "2.05"}]}], "}"}]}], "]"}]}]}], "]"}]}], 
          "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
         RowBox[{"labels", "[", 
          RowBox[{"2", ",", "\"\<y\>\"", ",", 
           RowBox[{"{", 
            RowBox[{"3", ",", "5.25"}], "}"}]}], "]"}], ",", 
         RowBox[{"labels", "[", 
          RowBox[{"3", ",", "\"\<x\>\"", ",", 
           RowBox[{"{", 
            RowBox[{"2.9", ",", 
             RowBox[{"-", "5.25"}]}], "}"}]}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"labels", "[", 
          RowBox[{"4", ",", "\"\<y\>\"", ",", 
           RowBox[{"{", 
            RowBox[{"9.2", ",", "5.25"}], "}"}]}], "]"}], ",", 
         RowBox[{"labels", "[", 
          RowBox[{"5", ",", "\"\<x\>\"", ",", 
           RowBox[{"{", 
            RowBox[{"9.2", ",", 
             RowBox[{"-", "5.25"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"labels", "[", 
          RowBox[{"6", ",", "\"\<x\>\"", ",", 
           RowBox[{"{", 
            RowBox[{"3.1", ",", "2"}], "}"}]}], "]"}], ",", 
         RowBox[{"labels", "[", 
          RowBox[{"7", ",", "\"\<y\>\"", ",", 
           RowBox[{"{", 
            RowBox[{"3", ",", 
             RowBox[{"-", "2"}]}], "}"}]}], "]"}]}], "}"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"Graphics", "[", 
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"FaceForm", "@", "None"}], ",", 
            RowBox[{"EdgeForm", "@", "Thick"}], ",", 
            RowBox[{"equipment", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", "2"}], "]"}], "]"}], ",", 
            RowBox[{"EdgeForm", "@", 
             RowBox[{"{", 
              RowBox[{"Thick", ",", "Dashed", ",", "Blue"}], "}"}]}], ",", 
            RowBox[{"equipment", "[", 
             RowBox[{"[", 
              RowBox[{"select", ",", "3"}], "]"}], "]"}]}], "}"}], ",", 
          RowBox[{"equipment", "[", 
           RowBox[{"[", 
            RowBox[{"All", ",", "4"}], "]"}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"Thick", ",", "streams"}], "}"}], ",", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"#", ",", "Blue", ",", "Bold"}], "]"}], "&"}], "/@"}], 
           "*)"}], "variables"}], "\[IndentingNewLine]", "}"}], ",", 
        RowBox[{"ImageSize", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"405", ",", "375"}], "}"}]}], ",", 
        RowBox[{"AspectRatio", "\[Rule]", "Full"}], ",", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", "7.51"}], ",", "7.51"}], "}"}]}]}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
   RowBox[{"Control", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"npr", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}], ",", "Setter"}], "}"}], "]"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"Control", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"select", ",", "2", ",", "\"\<balance\>\""}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"1", "\[Rule]", "\"\< column \>\""}], ",", 
        RowBox[{"2", "\[Rule]", "\"\< condenser \>\""}], ",", 
        RowBox[{"3", "\[Rule]", "\"\< reboiler \>\""}], ",", 
        RowBox[{"4", "\[Rule]", "\"\< overall \>\""}]}], "}"}], ",", 
      "Setter"}], "}"}], "]"}]}], "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.6671511211486998`*^9, 3.6671511399697447`*^9}, {
   3.6671511782848325`*^9, 3.667151190817864*^9}, {3.667151221893938*^9, 
   3.667151242420986*^9}, {3.667151272782053*^9, 3.667151273281055*^9}, {
   3.667151328536194*^9, 3.6671515392250423`*^9}, {3.667151612255224*^9, 
   3.667151688636403*^9}, 3.667151741443832*^9, 3.667151788682949*^9, {
   3.6671518311200457`*^9, 3.6671521892631407`*^9}, {3.667152243612274*^9, 
   3.6671523457675486`*^9}, {3.6671523839476295`*^9, 3.667152412932703*^9}}],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`npr$$ = 1, $CellContext`select$$ = 2, 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`npr$$], 1}, {1, 2}}, {{
       Hold[$CellContext`select$$], 2, "balance"}, {
      1 -> " column ", 2 -> " condenser ", 3 -> " reboiler ", 4 -> 
       " overall "}}}, Typeset`size$$ = {405., {185., 190.}}, 
    Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = 
    True, $CellContext`npr$8709$$ = False, $CellContext`select$8710$$ = 
    False}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`npr$$ = 1, $CellContext`select$$ = 2}, 
      "ControllerVariables" :> {
        Hold[$CellContext`npr$$, $CellContext`npr$8709$$, False], 
        Hold[$CellContext`select$$, $CellContext`select$8710$$, False]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`unit$, $CellContext`labels$, \
$CellContext`equipment$, $CellContext`streams$, $CellContext`variables$}, \
$CellContext`unit$[
           Pattern[$CellContext`pos, 
            Blank[]], 
           Pattern[$CellContext`side, 
            Blank[]]] := {
           
           Rectangle[{
            Part[$CellContext`pos, 1] - 1.5, 
             Part[$CellContext`pos, 2] - $CellContext`side 1.5}, {
            Part[$CellContext`pos, 1] + 1.5, 
             Part[$CellContext`pos, 2] + $CellContext`side 1.5}], 
           
           Rectangle[{
            Part[$CellContext`pos, 1] - 1.9, 
             Part[$CellContext`pos, 2] - ($CellContext`side 1.5 + 0.4)}, {
            Part[$CellContext`pos, 1] + 1.9, 
             Part[$CellContext`pos, 2] + ($CellContext`side 1.5 + 
              0.4)}]}; $CellContext`labels$[
           Pattern[$CellContext`number, 
            Blank[]], 
           Pattern[$CellContext`cmp, 
            Blank[]], 
           Pattern[$CellContext`pos, 
            Blank[]]] := Apply[{#, {#2, #3}}& , 
           Map[Style[#, 16]& , 
            Flatten[{
              Text[
               Subscript[
                OverDot[
                 Style["m", Italic]], $CellContext`number], {
                Part[$CellContext`pos, 1], Part[$CellContext`pos, 2] + 
                0.55}], {
               Text[
                Subscript[
                 Style[$CellContext`cmp, Italic], 
                 Row[{$CellContext`number, ",A"}]], {
                 Part[$CellContext`pos, 1], Part[$CellContext`pos, 2] - 
                 0.55}], 
               Text[
                Row[{"1-", 
                  Subscript[
                   Style[$CellContext`cmp, Italic], 
                   Row[{$CellContext`number, ",A"}]]}], {
                 Part[$CellContext`pos, 1], Part[$CellContext`pos, 2] - 
                 1.55}]}}]]]; $CellContext`equipment$ = {
           Flatten[{"distillation column", 
             $CellContext`unit$[{0, 0}, 2.5], 
             Text[
              Style[
               Column[{"distillation", "column"}, Center], 16], {0, 0}]}], 
           Flatten[{"condenser", 
             $CellContext`unit$[{6, 5.25}, 1], 
             Text[
              Style["condenser", 16], {6, 5.25}]}], 
           Flatten[{"reboiler", 
             $CellContext`unit$[{6, -5.25}, 1], 
             Text[
              Style["reboiler", 16], {6, -5.25}]}], {"overall", 
            Text[""], 
            Rectangle[{-3.9, -7.45}, {10.25, 7.5}], 
            Text[""]}}; $CellContext`streams$ = {
           Arrow[{{-4.2, 0}, {-1.5, 0}}], 
           Arrow[{{0, 3.75}, {0, 5.25}, {4.5, 5.25}}], 
           Arrow[{{0, -3.75}, {0, -5.25}, {4.5, -5.25}}], 
           Arrow[{{7.5, 5.25}, {11, 5.25}}], 
           Arrow[{{7.5, -5.25}, {11, -5.25}}], 
           Arrow[{{6, 3.75}, {6, 2}, {1.5, 2}}], 
           Arrow[{{6, -3.75}, {6, -2}, {1.5, -2}}]}; $CellContext`variables$ = {
           If[$CellContext`npr$$ == 1, 
            ReplacePart[
             $CellContext`labels$[1, "z", {-2.9, 0}], {2, 2} -> Text[
               Style[
                Row[{
                  Subscript[
                   Style["z", Italic], "1,B"], "=1-", 
                  Subscript[
                   Style["z", Italic], "1,A"]}], 16, Background -> 
                White], {-3.1, -1.55}]], 
            ReplacePart[
             $CellContext`labels$[1, "z", {-2.9, 0}], {2, 2} -> Text[
               Style[
                Column[{
                  Row[{
                    Subscript[
                    Style["z", Italic], "1,B"], "="}], 
                  Row[{"1-", 
                    Subscript[
                    Style["z", Italic], "1,A"]}]}, Center], 
                16], {-2.9, -2.05}]]], 
           $CellContext`labels$[2, "y", {3, 5.25}], 
           $CellContext`labels$[3, "x", {2.9, -5.25}], 
           $CellContext`labels$[4, "y", {9.2, 5.25}], 
           $CellContext`labels$[5, "x", {9.2, -5.25}], 
           $CellContext`labels$[6, "x", {3.1, 2}], 
           $CellContext`labels$[7, "y", {3, -2}]}; Graphics[{{
            FaceForm[None], 
            EdgeForm[Thick], 
            Part[$CellContext`equipment$, All, 2], 
            EdgeForm[{Thick, Dashed, Blue}], 
            Part[$CellContext`equipment$, $CellContext`select$$, 3]}, 
           Part[$CellContext`equipment$, All, 4], {
           Thick, $CellContext`streams$}, $CellContext`variables$}, 
          ImageSize -> {405, 375}, AspectRatio -> Full, 
          PlotRange -> {-7.51, 7.51}]], 
      "Specifications" :> {{{$CellContext`npr$$, 1}, {1, 2}, ControlType -> 
         Setter}, {{$CellContext`select$$, 2, "balance"}, {
         1 -> " column ", 2 -> " condenser ", 3 -> " reboiler ", 4 -> 
          " overall "}, ControlType -> Setter}}, "Options" :> {}, 
      "DefaultOptions" :> {}],
     ImageSizeCache->{456., {241., 248.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.6671511412327485`*^9, {3.6671511790908346`*^9, 3.6671511931018705`*^9}, 
   3.6671512737220554`*^9, 3.667151352005452*^9, {3.667151472109891*^9, 
   3.6671515071209717`*^9}, 3.6671515400890446`*^9, {3.6671516499563107`*^9, 
   3.667151689156404*^9}, 3.6671517479098473`*^9, 3.6671517901129513`*^9, {
   3.6671518428000712`*^9, 3.667151942344277*^9}, 3.6671520440855236`*^9, {
   3.6671521333190207`*^9, 3.6671521904491425`*^9}, 3.6671522755263634`*^9, 
   3.6671523133794656`*^9, 3.6671523464655504`*^9, {3.6671523862236423`*^9, 
   3.667152413633704*^9}}]
}, Open  ]]
},
WindowSize->{1366, 686},
WindowMargins->{{-8, Automatic}, {Automatic, -8}},
FrontEndVersion->"10.3 for Microsoft Windows (64-bit) (October 9, 2015)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 13566, 369, 572, "Input"],
Cell[14149, 393, 8153, 222, 390, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[22339, 620, 12796, 353, 552, "Input"],
Cell[35138, 975, 6399, 186, 390, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41574, 1166, 17651, 445, 772, "Input"],
Cell[59228, 1613, 7174, 155, 506, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
